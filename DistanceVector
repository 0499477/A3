#!/usr/bin/env python3
from typing import Dict, List


class Router:
    def __init__(self, name: str):
        self.name: str = name
        self.DV = {}
        return

    def update_dv_from_neighbor(self, neighbor:'Router'):
        """
            Read distance vector from neighbor, and update self's distance vector.
        """
        pass
    
    def print_distance_table(self, t:int):
        print(f'Distance Table of router {self.name} at t={t}:')
        print()

    def print_route_table(self):
        print(f'Routing Table of router X:')
        print()

class Edge:
    def __init__(self, router1: 'Router', router2: 'Router', cost: int):
        self.router1: Router = router1
        self.router2: Router = router2

        # Set in alphabetical order
        if self.router1.name > self.router2.name:
            self.router1, self.router2 = self.router2, self.router1
        self.cost: int = cost

    def __str__(self) -> str:
        return str((self.router1.name, self.router2.name))


class NetGraph:
    def __init__(self):
        self.routers: Dict[str, Router] = {}
        self.edges: Dict[str, Edge] = {}

    def add_router(self, name: str) -> Router:
        """
            Add router to the network if notexist, return the router object
        """
        if name not in self.routers:
            self.routers[name] = Router(name)
        return self.routers[name]

    def add_edge(self, line: str) -> None:
        r1_name, r2_name, cost = line.split(' ')
        # Add router if router not exist
        r1 = self.add_router(r1_name)
        r2 = self.add_router(r2_name)

        # Create a Edge object
        edge = Edge(r1, r2, int(cost))
        edge_key = repr(edge)
        self.edges[edge_key] = edge

        # If cost = -1, remove the edge
        if cost == -1:
            del self.edges[edge_key]
        return
    
    def run_distance_vector_algorithm(self):
        pass


def read_until_(stop_line: str):
    # Read data from standard input
    data = []
    while True:
        line = input().strip()
        if line == stop_line:
            return data
        data.append(line)
    return data


def main():
    nx = NetGraph()
    # Add router
    init_section = read_until_(stop_line='START')
    for name in init_section:
        nx.add_router(name)
        
    # Link update
    start_section = read_until_(stop_line='UPDATE')
    for line in start_section:
        nx.add_edge(line)
    nx.run_distance_vector_algorithm()
        
    # UPDATE section
    update_section = read_until_(stop_line='END')
    for line in update_section:
        nx.add_edge(line)
    
    if len(update_section) > 0:
        nx.run_distance_vector_algorithm()

    return

if __name__ == '__main__':
    main()

